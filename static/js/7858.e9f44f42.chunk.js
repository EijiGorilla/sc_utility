"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[7858,7661],{88396:(e,t,r)=>{r.d(t,{a:()=>s,f:()=>i,n:()=>o});var n=r(18722);function o(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;const s=t.length/2;let i=0,l=0;if((0,n.kJ)(t)||(0,n.Q7)(t)){for(let n=0;n<s;++n)e[i]=t[l],e[i+1]=t[l+1],i+=r,l+=o;return}const a=(0,n.Op)(t);if((0,n.B3)(t))for(let n=0;n<s;++n)e[i]=Math.max(t[l]/a,-1),e[i+1]=Math.max(t[l+1]/a,-1),i+=r,l+=o;else for(let n=0;n<s;++n)e[i]=t[l]/a,e[i+1]=t[l+1]/a,i+=r,l+=o}function i(e,t,r,n){const o=e.typedBuffer,s=e.typedBufferStride,i=n?.count??e.count;let l=(n?.dstIndex??0)*s;for(let a=0;a<i;++a)o[l]=t,o[l+1]=r,l+=s}Object.freeze(Object.defineProperty({__proto__:null,fill:i,normalizeIntegerBuffer:s,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}))},69618:(e,t,r)=>{function n(e,t){o(e.typedBuffer,t,e.typedBufferStride)}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const n=t.typedBuffer,o=t.typedBufferStride,s=t.count;let i=0,l=0;for(let a=0;a<s;++a)e[i]=n[l],e[i+1]=n[l+1],e[i+2]=n[l+2],e[i+3]=n[l+3],i+=r,l+=o}function s(e,t,r,n,o,s){const i=e.typedBuffer,l=e.typedBufferStride,a=s?.count??e.count;let u=(s?.dstIndex??0)*l;for(let c=0;c<a;++c)i[u]=t,i[u+1]=r,i[u+2]=n,i[u+3]=o,u+=l}r.d(t,{a:()=>o,c:()=>n,f:()=>s});Object.freeze(Object.defineProperty({__proto__:null,copy:o,copyView:n,fill:s},Symbol.toStringTag,{value:"Module"}))},71277:(e,t,r)=>{function n(e){return e=e||globalThis.location.hostname,u.some((t=>null!=e?.match(t)))}function o(e,t){return e?(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(i)||null!=t.match(a)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}r.d(t,{XO:()=>n,pJ:()=>o});const s=/^devext\.arcgis\.com$/,i=/^qaext\.arcgis\.com$/,l=/^[\w-]*\.mapsdevext\.arcgis\.com$/,a=/^[\w-]*\.mapsqa\.arcgis\.com$/,u=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,s,i,/^jsapps\.esri\.com$/,l,a]},99760:(e,t,r)=>{r.d(t,{i:()=>i});var n=r(21389),o=r(30932),s=r(29303);function i(e){if(null==e)return null;const t=null!=e.offset?e.offset:o.AG,r=null!=e.rotation?e.rotation:0,i=null!=e.scale?e.scale:o.hq,l=(0,n.al)(1,0,0,0,1,0,t[0],t[1],1),a=(0,n.al)(Math.cos(r),-Math.sin(r),0,Math.sin(r),Math.cos(r),0,0,0,1),u=(0,n.al)(i[0],0,0,0,i[1],0,0,0,1),c=(0,n.Ue)();return(0,s.Jp)(c,a,u),(0,s.Jp)(c,l,c),c}},32315:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(18722),o=r(39406),s=r(8548);function i(e,t){switch(t){case s.MX.TRIANGLES:return"number"==typeof(r=e)?(0,o.KF)(r):(0,n.lq)(r)?new Uint16Array(r):r;case s.MX.TRIANGLE_STRIP:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return[];const r=t-2,n=(0,o.$z)(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;t+=1)t%2==0?(n[e++]=t,n[e++]=t+1,n[e++]=t+2):(n[e++]=t+1,n[e++]=t,n[e++]=t+2)}else{let t=0;for(let o=0;o<r;o+=1)o%2==0?(n[t++]=e[o],n[t++]=e[o+1],n[t++]=e[o+2]):(n[t++]=e[o+1],n[t++]=e[o],n[t++]=e[o+2])}return n}(e);case s.MX.TRIANGLE_FAN:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);const r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;++t)n[e++]=0,n[e++]=t+1,n[e++]=t+2;return n}const o=e[0];let s=e[1],i=0;for(let l=0;l<r;++l){const t=e[l+2];n[i++]=o,n[i++]=s,n[i++]=t,s=t}return n}(e)}var r}},57661:(e,t,r)=>{r.d(t,{$A:()=>i,Ml:()=>a,NM:()=>s,i$:()=>l});var n=r(93169),o=r(68401);class s{constructor(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=o.Ti.KTX2_ENCODING}}function i(e){return"encoded-mesh-texture"===e?.type}async function l(e){const t=new Blob([e]),r=await t.text();return JSON.parse(r)}async function a(e,t){if(t===o.Ti.KTX2_ENCODING)return new s(e);const r=new Blob([e],{type:t}),i=URL.createObjectURL(r),l=new Image;if((0,n.Z)("esri-iPhone"))return new Promise(((e,t)=>{const r=()=>{o(),e(l)},n=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(i),l.removeEventListener("load",r),l.removeEventListener("error",n)};l.addEventListener("load",r),l.addEventListener("error",n),l.src=i}));try{l.src=i,await l.decode()}catch(a){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(i),l}},47858:(e,t,r)=>{r.d(t,{fetch:()=>_});var n=r(71277),o=r(16889),s=r(29303),i=r(21389),l=r(29134),a=r(7025),u=r(6644),c=r(32035),f=r(12400),d=r(41414),m=r(38461),p=r(25158),h=r(11186),x=r(6754),g=r(88396),y=r(92770),b=r(69618),T=r(27053),v=r(32315),w=r(57661),B=r(99760);class R{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class S{constructor(e,t,r){this.name=e,this.lodThreshold=t,this.pivotOffset=r,this.stageResources=new R,this.numberOfVertices=0}}var M=r(13041),A=r(16010),O=r(91526),E=r(68401),I=r(2952),L=r(1487),F=r(4760),N=r(72969),C=r(68845),U=r(45856);async function _(e,t){const i=function(e){const t=e.match(/(.*\.(gltf|glb))(\?lod=([0-9]+))?$/);return t?{fileType:"gltf",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null}:e.match(/(.*\.(json|json\.gz))$/)?{fileType:"wosr",url:e,specifiedLodIndex:null}:{fileType:"unknown",url:e,specifiedLodIndex:null}}((0,n.pJ)(e));if("wosr"===i.fileType){const e=await(t.cache?t.cache.loadWOSR(i.url,t):(0,M.zD)(i.url,t)),{engineResources:r,referenceBoundingBox:n}=(0,M.p2)(e,t);return{lods:r,referenceBoundingBox:n,isEsriSymbolResource:!1,isWosr:!0}}let R;if(t.cache)R=await t.cache.loadGLTF(i.url,t,!!t.usePBR);else{const{loadGLTF:e}=await r.e(7516).then(r.bind(r,57516));R=await e(new T.C(t.streamDataRequester),i.url,t,t.usePBR)}const _=R.model.meta?.ESRI_proxyEllipsoid,J=R.meta.isEsriSymbolResource&&null!=_&&"EsriRealisticTreesStyle"===R.meta.ESRI_webstyle;J&&!R.customMeta.esriTreeRendering&&(R.customMeta.esriTreeRendering=!0,function(e,t){for(let r=0;r<e.model.lods.length;++r){const n=e.model.lods[r];for(const o of n.parts){const n=o.attributes.normal;if(null==n)return;const s=o.attributes.position,i=s.count,u=(0,f.Ue)(),d=(0,f.Ue)(),m=(0,f.Ue)(),h=new Uint8Array(4*i),x=new Float64Array(3*i),g=(0,l.U_)((0,a.Ue)(),o.transform);let y=0,b=0;for(let l=0;l<i;l++){s.getVec(l,d),n.getVec(l,u),(0,c.t)(d,d,o.transform),(0,c.d)(m,d,t.center),(0,c.E)(m,m,t.radius);const i=m[2],a=(0,c.l)(m),f=Math.min(.45+.55*a*a,1);(0,c.E)(m,m,t.radius),null!==g&&(0,c.t)(m,m,g),(0,c.n)(m,m),r+1!==e.model.lods.length&&e.model.lods.length>1&&(0,c.m)(m,m,u,i>-1?.2:Math.min(-4*i-3.8,1)),x[y]=m[0],x[y+1]=m[1],x[y+2]=m[2],y+=3,h[b]=255*f,h[b+1]=255*f,h[b+2]=255*f,h[b+3]=255,b+=4}o.attributes.normal=new p.ct(x),o.attributes.color=new p.mc(h)}}}(R,_));const P=!!t.usePBR,$=R.meta.isEsriSymbolResource?{usePBR:P,isSchematic:!1,treeRendering:J,mrrFactors:U.eP}:{usePBR:P,isSchematic:!1,treeRendering:!1,mrrFactors:U.xq},k={...t.materialParameters,treeRendering:J},{engineResources:G,referenceBoundingBox:q}=function(e,t,r,n,i){const l=e.model,a=new Array,c=new Map,f=new Map,T=l.lods.length,R=(0,d.cS)();return l.lods.forEach(((e,M)=>{const _=!0===n.skipHighLods&&(T>1&&0===M||T>3&&1===M)||!1===n.skipHighLods&&null!=i&&M!==i;if(_&&0!==M)return;const J=new S(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const i=_?new N.Gp({},n):function(e,t,r,n,o,s,i,l){const a=t.material+(t.attributes.normal?"_normal":"")+(t.attributes.color?"_color":"")+(t.attributes.texCoord0?"_texCoord0":"")+(t.attributes.tangent?"_tangent":""),c=e.materials.get(t.material),f=null!=t.attributes.texCoord0,d=null!=t.attributes.normal;if(null==c)return null;const m=function(e){switch(e){case"BLEND":return E.JJ.Blend;case"MASK":return E.JJ.Mask;case"OPAQUE":case null:case void 0:return E.JJ.Opaque}}(c.alphaMode);if(!s.has(a)){if(f){const t=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=t&&!i.has(t)){const n=e.textures.get(t);if(null!=n){const e=n.data;i.set(t,new L.x((0,w.$A)(e)?e.data:e,{...n.parameters,preMultiplyAlpha:!(0,w.$A)(e)&&r,encoding:(0,w.$A)(e)&&null!=e.encoding?e.encoding:void 0}))}}};t(c.textureColor,m!==E.JJ.Opaque),t(c.textureNormal),t(c.textureOcclusion),t(c.textureEmissive),t(c.textureMetallicRoughness)}const r=c.color[0]**(1/C.j),p=c.color[1]**(1/C.j),h=c.color[2]**(1/C.j),x=c.emissiveFactor[0]**(1/C.j),g=c.emissiveFactor[1]**(1/C.j),y=c.emissiveFactor[2]**(1/C.j),b=null!=c.textureColor&&f?i.get(c.textureColor):null,T=(0,U.Ih)({normalTexture:c.textureNormal,metallicRoughnessTexture:c.textureMetallicRoughness,metallicFactor:c.metallicFactor,roughnessFactor:c.roughnessFactor,emissiveTexture:c.textureEmissive,emissiveFactor:c.emissiveFactor,occlusionTexture:c.textureOcclusion}),v=null!=c.normalTextureTransform?.scale?c.normalTextureTransform?.scale:u.hq;s.set(a,new N.Gp({...n,transparent:m===E.JJ.Blend,customDepthTest:E.Gv.Lequal,textureAlphaMode:m,textureAlphaCutoff:c.alphaCutoff,diffuse:[r,p,h],ambient:[r,p,h],opacity:c.opacity,doubleSided:c.doubleSided,doubleSidedType:"winding-order",cullFace:c.doubleSided?E.Vr.None:E.Vr.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:d?A.r.Attribute:A.r.ScreenDerivative,castShadows:!0,receiveShadows:c.receiveShadows,receiveAmbientOcclusion:c.receiveAmbientOcclustion,textureId:null!=b?b.id:void 0,colorMixMode:c.colorMixMode,normalTextureId:null!=c.textureNormal&&f?i.get(c.textureNormal).id:void 0,textureAlphaPremultiplied:null!=b&&!!b.parameters.preMultiplyAlpha,occlusionTextureId:null!=c.textureOcclusion&&f?i.get(c.textureOcclusion).id:void 0,emissiveTextureId:null!=c.textureEmissive&&f?i.get(c.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=c.textureMetallicRoughness&&f?i.get(c.textureMetallicRoughness).id:void 0,emissiveFactor:[x,g,y],mrrFactors:T?U.S7:[c.metallicFactor,c.roughnessFactor,n.mrrFactors[2]],isSchematic:T,colorTextureTransformMatrix:(0,B.i)(c.colorTextureTransform),normalTextureTransformMatrix:(0,B.i)(c.normalTextureTransform),scale:[v[0],v[1]],occlusionTextureTransformMatrix:(0,B.i)(c.occlusionTextureTransform),emissiveTextureTransformMatrix:(0,B.i)(c.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:(0,B.i)(c.metallicRoughnessTextureTransform),...o},l))}const p=s.get(a);if(r.stageResources.materials.push(p),f){const e=e=>{null!=e&&r.stageResources.textures.push(i.get(e))};e(c.textureColor),e(c.textureNormal),e(c.textureOcclusion),e(c.textureEmissive),e(c.textureMetallicRoughness)}return p}(l,e,J,t,r,c,f,n),{geometry:a,vertexCount:T}=function(e,t){const r=e.attributes.position.count,n=(0,v.p)(e.indices||r,e.primitiveType),i=(0,m.xx)(3*r),{typedBuffer:l,typedBufferStride:a}=e.attributes.position;(0,h.t)(i,l,e.transform,3,a);const u=[[F.T.POSITION,new O.a(i,n,3,!0)]];if(null!=e.attributes.normal){const t=(0,m.xx)(3*r),{typedBuffer:i,typedBufferStride:l}=e.attributes.normal;(0,s.XL)(j,e.transform),(0,h.b)(t,i,j,3,l),(0,o.oc)(j)&&(0,h.n)(t,t),u.push([F.T.NORMAL,new O.a(t,n,3,!0)])}if(null!=e.attributes.tangent){const t=(0,m.xx)(4*r),{typedBuffer:i,typedBufferStride:l}=e.attributes.tangent;(0,s.xO)(j,e.transform),(0,x.t)(t,i,j,4,l),(0,o.oc)(j)&&(0,h.n)(t,t,4),u.push([F.T.TANGENT,new O.a(t,n,4,!0)])}if(null!=e.attributes.texCoord0){const t=(0,m.xx)(2*r),{typedBuffer:o,typedBufferStride:s}=e.attributes.texCoord0;(0,g.a)(t,o,2,s),u.push([F.T.UV0,new O.a(t,n,2,!0)])}const c=e.attributes.color;if(null!=c){const t=new Uint8Array(4*r);4===c.elementCount?c instanceof p.ek?(0,x.b)(t,c,255):c instanceof p.mc?(0,b.a)(t,c):c instanceof p.v6&&(0,x.b)(t,c,1/256):(t.fill(255),c instanceof p.ct?(0,h.f)(t,c.typedBuffer,255,4,c.typedBufferStride):e.attributes.color instanceof p.ne?(0,y.c)(t,c.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof p.mw&&(0,h.f)(t,c.typedBuffer,1/256,4,c.typedBufferStride)),u.push([F.T.COLOR,new O.a(t,n,4,!0)])}return{geometry:new I.Z(t,u),vertexCount:r}}(e,i??new N.Gp({},n)),S=a.boundingInfo;null!=S&&0===M&&((0,d.pp)(R,S.bbMin),(0,d.pp)(R,S.bbMax)),null!=i&&(J.stageResources.geometries.push(a),J.numberOfVertices+=T)})),_||a.push(J)})),{engineResources:a,referenceBoundingBox:R}}(R,$,k,t,i.specifiedLodIndex);return{lods:G,referenceBoundingBox:q,isEsriSymbolResource:R.meta.isEsriSymbolResource,isWosr:!1}}const j=(0,i.Ue)()},68845:(e,t,r)=>{r.d(t,{j:()=>n});const n=2.1}}]);
//# sourceMappingURL=7858.e9f44f42.chunk.js.map