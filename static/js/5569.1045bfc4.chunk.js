"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[5569,9762,7009],{22526:(e,t,n)=>{n.d(t,{H:()=>o,a:()=>r});var s=n(55158);function o(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:new s.Gw(e.layout)}}function r(e){return new s.pV(e.layout).createView(e.buffer)}},95569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var s=n(22526),o=n(67009),r=n(32666),i=n(79762);class a{async extract(e){const t=c(e),n=(0,i.Kl)(t),s=[t.data.buffer];return{result:u(n,s),transferList:s}}async extractComponentsEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,r.n)(n,f),a=[];return{result:(0,s.H)(o.regular.instancesData,a),transferList:a}}async extractEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,r.n)(n,l),a=[];return{result:(0,s.H)(o.regular.instancesData,a),transferList:a}}}function c(e){return{data:o.EdgeInputBufferLayout.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function u(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,s.H)(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,s.H)(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}const l=new class{allocate(e){return i.Yr.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},f=new class{allocate(e){return i.extractComponentsEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}},67009:(e,t,n)=>{n.d(t,{EdgeInputBufferLayout:()=>i,Hr:()=>l,dG:()=>u,dx:()=>c,k3:()=>f,rD:()=>a});var s=n(50256),o=n(55158),r=n(4760);const i=(0,o.U$)().vec3f(r.T.POSITION).u16(r.T.COMPONENTINDEX).freeze(),a=(0,o.U$)().vec2u8(r.T.SIDENESS).freeze(),c=(0,s.K)(a),u=(0,o.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1).vec2i16(r.T.NORMALCOMPRESSED).u16(r.T.COMPONENTINDEX).u8(r.T.VARIANTOFFSET,{glNormalized:!0}).u8(r.T.VARIANTSTROKE).u8(r.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),l=(0,o.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1).vec2i16(r.T.NORMALCOMPRESSED).vec2i16(r.T.NORMAL2COMPRESSED).u16(r.T.COMPONENTINDEX).u8(r.T.VARIANTOFFSET,{glNormalized:!0}).u8(r.T.VARIANTSTROKE).u8(r.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[r.T.POSITION0,0],[r.T.POSITION1,1],[r.T.COMPONENTINDEX,2],[r.T.VARIANTOFFSET,3],[r.T.VARIANTSTROKE,4],[r.T.VARIANTEXTENSION,5],[r.T.NORMALCOMPRESSED,6],[r.T.NORMAL2COMPRESSED,7],[r.T.SIDENESS,8]])},41371:(e,t,n)=>{n.d(t,{D:()=>N,q:()=>I});var s=n(84936),o=n(32035),r=n(12400),i=n(50256),a=n(52920),c=n(67009);class u{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?p:g}write(e,t,n){O.seed=this._edgeHashFunction(n);const s=O.getIntRange(0,255),o=O.getIntRange(0,this.settings.variants-1),r=O.getFloat(),i=255*(.5*function(e,t){return Math.abs(e)**t*Math.sign(e)}(-(1-Math.min(r/.7,1))+Math.max(0,r-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,s),e.variantStroke.set(t,o),e.variantExtension.set(t,i)}}const l=new Float32Array(6),f=new Uint32Array(l.buffer),d=new Uint32Array(1);function g(e){return l[0]=e.position0[0],l[1]=e.position0[1],l[2]=e.position0[2],l[3]=e.position1[0],l[4]=e.position1[1],l[5]=e.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function p(e){const t=l;t[0]=T(e.position0[0]),t[1]=T(e.position0[1]),t[2]=T(e.position0[2]),t[3]=T(e.position1[0]),t[4]=T(e.position1[1]),t[5]=T(e.position1[2]),d[0]=5381;for(let n=0;n<f.length;n++)d[0]=31*d[0]+f[n];return d[0]}const h=1e4;function T(e){return Math.round(e*h)/h}class N{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.dG.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,o.g)(m,n.faceNormal0,n.faceNormal1),(0,o.n)(m,m);const{typedBuffer:s,typedBufferStride:r}=e.normalCompressed;(0,a.hd)(s,t,m[0],m[1],m[2],r)}}N.Layout=c.dG,N.glLayout=(0,i.K)(c.dG,1);class I{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.Hr.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:s,typedBufferStride:o}=e.normalCompressed;(0,a.hd)(s,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],o)}{const{typedBuffer:s,typedBufferStride:o}=e.normal2Compressed;(0,a.hd)(s,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],o)}}}I.Layout=c.Hr,I.glLayout=(0,i.K)(c.Hr,1);const m=(0,r.Ue)(),O=new s.Z},32666:(e,t,n)=>{n.d(t,{n:()=>c});var s=n(16889),o=n(10199),r=n(32035),i=n(12400);const a=-1;function c(e,t,n){const s=e.vertices.position,o=e.vertices.componentIndex,i=h.position0,c=h.position1,f=h.faceNormal0,g=h.faceNormal1,{edges:p,normals:T}=l(e),N=p.length/4,I=t.allocate(N);let m=0;const O=N,A=null===n||void 0===n?void 0:n.allocate(O);let y=0,v=0,L=0;d.length=0;for(let a=0;a<N;++a){const e=4*a;s.getVec(p.data[e],i),s.getVec(p.data[e+1],c);const t=d.pushNew();t.index=4*a,t.length=(0,r.j)(i,c)}d.sort(((e,t)=>t.length-e.length));const D=new Array,V=new Array;d.forAll((e=>{let{length:l,index:d}=e;const N=p.data[d],O=p.data[d+1],U=p.data[d+2],R=p.data[d+3],M=R===a;if(s.getVec(N,i),s.getVec(O,c),M){const e=3*U;(0,r.i)(f,T.data[e],T.data[e+1],T.data[e+2]),(0,r.c)(g,f),h.componentIndex=o.get(N),h.cosAngle=(0,r.f)(f,g)}else{let e=3*U;if((0,r.i)(f,T.data[e],T.data[e+1],T.data[e+2]),e=3*R,(0,r.i)(g,T.data[e],T.data[e+1],T.data[e+2]),h.componentIndex=o.get(N),h.cosAngle=(0,r.f)(f,g),function(e,t){return e.cosAngle>t}(h,w))return;h.cosAngle<-.9999&&(0,r.c)(g,f)}v+=l,L++,M||function(e,t){return e.cosAngle<t}(h,E)?(t.write(I,m++,h),D.push(l)):u(h,S)&&(A&&n&&n.write(A,y++,h),V.push(l))}));const U=new Float32Array(D.reverse()),R=new Float32Array(V.reverse()),M=A&&n?{instancesData:A.slice(0,y),lodInfo:{lengths:R}}:void 0;return{regular:{instancesData:I.slice(0,m),lodInfo:{lengths:U}},silhouette:M,averageEdgeLength:v/L}}function u(e,t){const n=(0,s.ZF)(e.cosAngle);return(0,r.o)(N,e.position1,e.position0),n*((0,r.f)((0,r.e)(T,e.faceNormal0,e.faceNormal1),N)>0?-1:1)>t}function l(e){const t=e.faces.length/3,n=e.faces,s=e.neighbors,o=e.vertices.position;g.length=p.length=0;for(let i=0;i<t;i++){const e=3*i,t=s[e],c=s[e+1],u=s[e+2],l=n[e],f=n[e+1],d=n[e+2];o.getVec(l,I),o.getVec(f,m),o.getVec(d,O),(0,r.d)(m,m,I),(0,r.d)(O,O,I),(0,r.e)(I,m,O),(0,r.n)(I,I),p.pushArray(I),(t===a||l<f)&&(g.push(l),g.push(f),g.push(i),g.push(t)),(c===a||f<d)&&(g.push(f),g.push(d),g.push(i),g.push(c)),(u===a||d<l)&&(g.push(d),g.push(l),g.push(i),g.push(u))}return{edges:g,normals:p}}class f{constructor(){this.index=0,this.length=0}}const d=new o.Z({allocator:e=>e||new f,deallocator:null}),g=new o.Z({deallocator:null}),p=new o.Z({deallocator:null}),h=new class{constructor(){this.position0=(0,i.Ue)(),this.position1=(0,i.Ue)(),this.faceNormal0=(0,i.Ue)(),this.faceNormal1=(0,i.Ue)(),this.componentIndex=0,this.cosAngle=0}},T=(0,i.Ue)(),N=(0,i.Ue)(),I=(0,i.Ue)(),m=(0,i.Ue)(),O=(0,i.Ue)(),S=(0,s.Vl)(4),w=Math.cos(S),A=(0,s.Vl)(35),E=Math.cos(A)},79762:(e,t,n)=>{n.d(t,{Kl:()=>l,extractComponentsEdgeLocationsLayout:()=>T,kY:()=>f,Yr:()=>h});var s=n(35888);function o(e,t,n){const s=t/3,o=new Uint32Array(n+1),r=new Uint32Array(n+1),i=(e,t)=>{e<t?o[e+1]++:r[t+1]++};for(let N=0;N<s;N++){const t=e[3*N],n=e[3*N+1],s=e[3*N+2];i(t,n),i(n,s),i(s,t)}let a=0,c=0;for(let N=0;N<n;N++){const e=o[N+1],t=r[N+1];o[N+1]=a,r[N+1]=c,a+=e,c+=t}const u=new Uint32Array(6*s),l=o[n],f=(e,t,n)=>{if(e<t){const s=o[e+1]++;u[2*s]=t,u[2*s+1]=n}else{const s=r[t+1]++;u[2*l+2*s]=e,u[2*l+2*s+1]=n}};for(let N=0;N<s;N++){const t=e[3*N],n=e[3*N+1],s=e[3*N+2];f(t,n,N),f(n,s,N),f(s,t,N)}const d=(e,t)=>{const n=2*e,s=t-e;for(let o=1;o<s;o++){const e=u[n+2*o],t=u[n+2*o+1];let s=o-1;for(;s>=0&&u[n+2*s]>e;s--)u[n+2*s+2]=u[n+2*s],u[n+2*s+3]=u[n+2*s+1];u[n+2*s+2]=e,u[n+2*s+3]=t}};for(let N=0;N<n;N++)d(o[N],o[N+1]),d(l+r[N],l+r[N+1]);const g=new Int32Array(3*s),p=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,h=(e,t)=>{const n=p(e,t);g[3*t+n]=-1},T=(e,t,n,s)=>{const o=p(e,t);g[3*t+o]=s;const r=p(n,s);g[3*s+r]=t};for(let N=0;N<n;N++){let e=o[N];const t=o[N+1];let n=r[N];const s=r[N+1];for(;e<t&&n<s;){const t=u[2*e],s=u[2*l+2*n];t===s?(T(N,u[2*e+1],s,u[2*l+2*n+1]),e++,n++):t<s?(h(N,u[2*e+1]),e++):(h(s,u[2*l+2*n+1]),n++)}for(;e<t;)h(N,u[2*e+1]),e++;for(;n<s;)h(u[2*l+2*n],u[2*l+2*n+1]),n++}return g}var r=n(55158),i=n(4760),a=n(67009),c=n(41371),u=n(32666);function l(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),p.updateSettings(e.writerSettings),(0,u.n)(t,g,p)}function f(e,t,n,r){if(t){const t=o(n,r,e.count);return new d(n,r,t,e)}const i=(0,s.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),c=o(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:c,vertices:a.EdgeInputBufferLayout.createView(i.buffer)}}class d{constructor(e,t,n,s){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=s}}const g=new c.D,p=new c.q,h=(0,r.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1),T=(0,r.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1).u16(i.T.COMPONENTINDEX)}}]);
//# sourceMappingURL=5569.1045bfc4.chunk.js.map